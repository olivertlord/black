function [spec, grat, conp, pix1, pix2, conl, lam1, lam2] = specset;

load wiener

ht0 = figure('Color',[0.8 0.8 0.8], ...
	'Colormap',mat0, ...
	'Position',[300   200   240   400], ...
	'Tag','Spectrometer Setup');

ht1 = uicontrol('Parent',ht0, ...
	'Units','points', ...
	'FontName','Geneva', ...
    'BackgroundColor',[.7 .7 .7], ...
	'FontSize',9, ...
	'Position',[25 230 90 12], ...
	'String','CCD Format', ...
	'Style','text', ...
	'Tag','StaticText1');

a9 = uicontrol('Parent',ht0, ...
	'Units','points', ...
	'FontName','Geneva', ...
	'FontSize',9, ...
	'BackgroundColor',[1 1 1], ...
	'Position',[25 210 90 18], ...
	'String','1024x256|1024x128|1024x124|1340x100', ...
	'Style','Popup', ...
	'Tag','popup1');

ht2 = uicontrol('Parent',ht0, ...
	'Units','points', ...
	'FontName','Geneva', ...
    'BackgroundColor',[.7 .7 .7], ...
	'FontSize',9, ...
	'Position',[25 140 90 12], ...
	'String','Grating', ...
	'Style','text', ...
	'Tag','StaticText1');

a10 = uicontrol('Parent',ht0, ...
	'Units','points', ...
	'FontName','Geneva', ...
	'FontSize',9, ...
	'BackgroundColor',[1 1 1], ...
	'Position',[25 120 90 18], ...
	'String','150|300', ...
	'Style','Popup', ...
	'Tag','popup1');


ht3 = uicontrol('Parent',ht0, ...
	'Units','points', ...
    'BackgroundColor',[0.7 0.7 0.7], ...
	'FontName','Geneva', ...
	'FontSize',9, ...
	'Position',[25 50 90 28], ...
	'String','Calibration', ...
	'Callback','uiresume(gcbf)', ...
	'Tag','Pushbutton1');

uiwait

spec = get(a9,'value');
grat = get(a10,'value');

[conp, pix1, pix2, conl, lam1, lam2] = calibrate (spec, grat);