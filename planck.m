function unir = planck(x, l)%--------------------------------------------------------------------------% PLANCK%--------------------------------------------------------------------------% Version 6.0% Written and tested on Matlab R2014a (Windows 7) & R2017a (OS X 10.13)% Copyright 2018 Oliver Lord, Mike Walter% email: oliver.lord@bristol.ac.uk % This file is part of black. % black is free software: you can redistribute it and/or modify% it under the terms of the GNU General Public License as published by% the Free Software Foundation, either version 3 of the License, or% (at your option) any later version. % black is distributed in the hope that it will be useful,% but WITHOUT ANY WARRANTY; without even the implied warranty of% MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the% GNU General Public License for more details. % You should have received a copy of the GNU General Public License% along with black.  If not, see <http://www.gnu.org/licenses/>.%--------------------------------------------------------------------------%	This is required to run the script function tempcalc.%   The funcition is called as non-linear least sq solution finding. And%   thus the function altimately belongs to script calcplank.m%   INPUTS: x = the value solved as Temperature%   OUTPUTS: l = matrix of wavelenths in [nm] in script it converts to [cm]%            unir is matrix of radiation intensity corresponding to%            wavelength%--------------------------------------------------------------------------l = l *1e-7; %convert to [cm]% F should converge to zerounir = (l.^-5 *3.7418E-12 *x(1)) ./(exp(1.4388 ./(l *x(2)) ) -1);%  when you assume the emmisivity to be one%unir = (l.^-5 *3.7418E-12 *1) ./(exp(1.4388 ./(l *x(2)) ) -1);